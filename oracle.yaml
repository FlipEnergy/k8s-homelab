context: oracle

metadata:
  maintainer: Dennis Zhang (dennis.zhang.nrg@gmail.com)
  description: Helmman DSF for Oracle homelab K8s

settings:
  kubeContext: oracle
  globalMaxHistory: 2

namespaces:
  ingress-nginx:
  kube-prometheus-stack:
  wireguard:

helmRepos:
  ingress-nginx: https://kubernetes.github.io/ingress-nginx
  place1: https://place1.github.io/wg-access-server
  prometheus-community: https://prometheus-community.github.io/helm-charts

appsTemplates:
  default: &default
    wait: true

apps:
  # Ingress
  ingress-nginx:
    <<: *default
    namespace: ingress-nginx
    enabled: true
    chart: ingress-nginx/ingress-nginx
    version: 3.34.0
    priority : -200
    valuesFile: ingress-nginx/ingress-nginx-values.yaml

  # Databases
  kube-prometheus-stack:
    <<: *default
    namespace: kube-prometheus-stack
    enabled: true
    chart: prometheus-community/kube-prometheus-stack
    version: 18.0.0
    valuesFiles:
      - kube-prometheus/kube-prometheus-values.yaml
      - kube-prometheus/oracle/kube-prometheus-values.yaml
    secretsFile: kube-prometheus/secrets.kube-prometheus.yaml
    priority: -98
    timeout: 600

  # Applications
  wireguard:
    <<: *default
    namespace: wireguard
    enabled: true
    chart: place1/wg-access-server
    version: 0.4.6
    valuesFiles:
      - wireguard/wireguard-values.yaml
      - wireguard/oracle/wireguard-values.yaml
    secretsFile: wireguard/oracle/secrets.wireguard-creds.yaml
